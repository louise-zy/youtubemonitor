# 钉钉推送配置说明

## 1. 创建钉钉机器人

### 步骤1：在钉钉群中添加机器人
1. 打开钉钉群聊
2. 点击群设置 → 智能群助手 → 添加机器人
3. 选择"自定义"机器人
4. 填写机器人名称（如：YouTube监控）
5. 选择安全设置：
   - **推荐**：加签（更安全）
   - 或者：自定义关键词（填入"YouTube"或"视频"）

### 步骤2：获取配置信息
创建成功后，你会得到：
- **Webhook URL**：形如 `https://oapi.dingtalk.com/robot/send?access_token=xxxxx`
- **加签密钥**（如果选择了加签）：形如 `SECxxxxx`

## 2. 配置文件设置

在 `youtube_rss_config.json` 中的 `dingtalk` 部分填入：

```json
{
  "dingtalk": {
    "enabled": true,
    "webhook_url": "你的钉钉机器人Webhook URL",
    "secret": "你的加签密钥（可选）",
    "at_all": false,
    "at_mobiles": ["手机号1", "手机号2"]
  }
}
```

### 配置说明：
- `enabled`: 是否启用钉钉推送
- `webhook_url`: 钉钉机器人的Webhook地址
- `secret`: 加签密钥（如果机器人设置了加签）
- `at_all`: 是否@所有人
- `at_mobiles`: 要@的特定手机号列表

## 3. 消息格式

推送的消息将包含：
- 📺 视频标题
- 🎬 频道名称  
- ⏰ 发布时间
- 🔗 视频链接
- 📝 AI生成的摘要（如果有）

## 4. 测试推送

配置完成后，运行监控程序：
```bash
python start_youtube_rss_monitor.py
```

如果有新视频，将自动发送钉钉通知。

## 5. 故障排除

### 常见问题：
1. **推送失败**：检查Webhook URL是否正确
2. **签名错误**：检查加签密钥是否正确
3. **关键词限制**：确保消息包含设置的关键词
4. **频率限制**：钉钉机器人有发送频率限制，避免过于频繁

### 日志查看：
查看 `youtube_rss_monitor.log` 文件中的钉钉推送相关日志。